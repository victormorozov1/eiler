# Индивидуальное задание


**Теория графов**

**Дискретная математика**

Работу выполнил Студент 1-го курса механико-математического факультета Морозов Виктор, группа МФТИ-1.

## Постановка задачи 

Нахождение эйлерова цикла/цепи в графе (алгоритм Флери). 

<ins>Входные данные.</ins> В первой строке записано одно число n – количество вершин в графе. Далее располагается матрица смежности графа (n строк по n чисел в каждой). 

<ins>Выходные данные.</ins> В первой строке – слово «Cycle» (если в графе есть эйлеров цикл), «Chain» (если нет цикла, но есть цепь) либо «No» (если нет ни цикла, ни цепи). Если в графе есть цикл или цепь, то во второй строке необходимо вывести найденный цикл или цепь соответственно (в виде последовательности номеров вершин через пробел). 

## Определение идеи алгоритма, выбор структур данных 

Для решения задачи была выбрана система программирования ```Clion.2021.3.4``` и язык программирования ```C++```. 

Основные моменты: 

* Ввод 

* Обход графа 

* Проверка является ли ребро мостом 

* Вывод 

Данные работы хранятся в следующих переменных:

```
onst bool COUNT_ALL_TIME = false;

const int MAX_N = 10000;

vector <int> vec[MAX_N], answer;
bool edge_is_used_arr[MAX_N][MAX_N], used[MAX_N];
int n, m = 0;
```

## Краткое описание алгоритма
1) Ввод 
2) Подсчет степеней вершин
3) Если одна, три или больше нечетных вершин, но ответ No
4) Если 2 нечетных вершины, то устанавливаем одну из них как начало, ищем цепь. Если ноль нечетных вершин, начинаем искать цикл из любой не изолированной вершины.
5) Обходим граф, использую в первую очередь ребра, не являющиеся мостами.

## Тестирование программы 

<ins>Тест№ 1</ins> 

Входные данные: 
```
7 
0 1 0 0 0 0 0  
1 0 0 1 0 0 0 
0 0 0 1 1 1 0 
0 1 1 0 1 0 1 
0 0 1 1 0 1 1  
0 0 1 0 1 0 0 
0 0 0 1 1 0 0 
```

Результат работы программы: 

```
Chain 
1 2 4 3 5 4 7 5 6 3 
```

![](https://github.com/victormorozov1/eiler/blob/master/images/1.png)

Верно 

<ins>Тест№ 2 </ins>

Входные данные: 

```
6 
0 1 0 1 0 0 
1 0 1 0 1 0 
0 1 0 1 0 1 
1 0 1 0 0 0 
0 1 0 0 0 1 
0 0 1 0 1 0 
```

Результат работы программы:

```
Chain 
2 1 4 3 2 5 6 3 
```
 
![](https://github.com/victormorozov1/eiler/blob/master/images/2.png)
 
Результирующая таблица составлена верно. 

<ins>Тест№3 </ins>

Входные данные: 
```
10 
0 1 0 0 0 0 0 0 0 1 
1 0 1 0 0 0 0 1 1 0 
0 1 0 1 0 0 0 1 0 1 
0 0 1 0 1 1 0 0 0 1 
0 0 0 1 0 1 0 0 0 0 
0 0 0 1 1 0 1 1 0 0 
0 0 0 0 0 1 0 1 0 0 
0 1 1 0 0 1 1 0 0 0 
0 1 0 0 0 0 0 0 0 1 
1 0 1 1 0 0 0 0 1 0 
```

Результат работы программы: 
```
Cycle 
1 2 3 4 5 6 4 10 3 8 6 7 8 2 9 10 
```

![](https://github.com/victormorozov1/eiler/blob/master/images/3.png)

Результирующая таблица составлена верно. 

<ins>Тест№4 </ins>

Входные данные 
```
5 
0 1 1 1 1 
1 0 1 1 1 
1 1 0 1 1 
1 1 1 0 1 
1 1 1 1 0 
```
 
Результат работы программы: 
```
Cycle 
1 2 3 1 4 2 5 3 4 5 
```
 
![](https://github.com/victormorozov1/eiler/blob/master/images/4.png)

Результирующая таблица составлена верно. 

 

<ins>Тест№5 </ins>

Входные данные 
```
5 
0 1 1 1 0 
1 0 1 1 0 
1 1 0 1 1 
1 1 1 0 0 
0 0 1 0 0 
```
 

Результат работы программы: 

```
No 
```

![](https://github.com/victormorozov1/eiler/blob/master/images/5.png)

Результирующая таблица составлена верно. 

<ins>Тест№6 </ins>

Входные данные 
```
8 
0 0 0 0 0 0 0 0 
0 0 0 0 1 0 0 0 
0 0 0 1 1 0 0 0 
0 0 1 0 1 1 0 1 
0 1 1 1 0 1 0 0 
0 0 0 1 1 0 0 1 
0 0 0 0 0 0 0 0 
0 0 0 1 0 1 0 0 
```
 

Результат работы программы: 
```
Chain 
2 5 3 4 5 6 4 8 6 
```
 
![](https://github.com/victormorozov1/eiler/blob/master/images/6.png)

Результирующая таблица составлена верно. 

<ins>Тест№7 </ins>

Входные данные 
```
6 
0 0 0 0 0 0 
0 0 1 1 0 0 
0 1 0 0 0 1 
0 1 0 0 0 1 
0 0 0 0 0 0 
0 0 1 1 0 0 
```
 

Результат работы программы: 

```
Cycle 
2 3 6 4 
```
 
![](https://github.com/victormorozov1/eiler/blob/master/images/7.png)

Результирующая таблица составлена верно. 

<ins>Тест№8 </ins>

Входные данные 
```
6 
0 0 0 0 0 0 
0 0 1 0 0 0  
0 1 0 0 0 0  
0 0 0 0 1 1  
0 0 0 1 0 1  
0 0 0 1 1 0 
```
Результат работы программы: 
```
No 
```
 
![](https://github.com/victormorozov1/eiler/blob/master/images/8.png)

Результирующая таблица составлена верно. 

 

 

 

 

**Таблицы показывающая время работы программы**

В процентах показано сколько в графе ребер от максимального возможного количества

```Ответ есть``` означает, что в графе есть цикл или цепь

В этой таблицы не учитывается время на считывание файла

| N     | 20% Ответа нет  | 20% Ответ есть  | 40% Ответа нет     | 40% Ответ есть     | 60% Ответа нет     | 60% Ответ есть     |   80% Ответа нет   | 80% Ответ есть     | 100%     |
|     -:|     -:|     -:|     -:|     -:|     -:|     -:|     -:|     -:|     -:|
| 10    | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |
| 15    | 0     | 0     | 0     | 0     | 0     | 0.001 | 0     | 0     | 0.001 |
| 20    | 0     | 0     | 0     | 0     | 0     | 0.001 | 0     | 0     | 0     |
| 25    | 0     | 0     | 0     | 0.001 | 0     | 0     | 0     | 0.001 | 0.001 |
| 30    | 0     | 0     | 0     | 0     | 0     | 0.001 | 0     | 0.001 | 0     |
| 35    | 0     | 0     | 0     | 0     | 0     | 0.001 | 0     | 0.003 | 0.003 |
| 40    | 0     | 0.001 | 0     | 0.001 | 0     | 0.002 | 0     | 0.003 | 0     |
| 45    | 0     | 0     | 0     | 0.001 | 0     | 0.003 | 0     | 0.005 | 0.006 |
| 50    | 0     | 0.001 | 0     | 0.003 | 0     | 0.004 | 0     | 0.007 | 0     |
| 55    | 0     | 0.001 | 0     | 0.003 | 0     | 0.007 | 0     | 0.01  | 0.013 |
| 60    | 0     | 0.001 | 0     | 0.005 | 0     | 0.008 | 0     | 0.013 | 0     |
| 65    | 0     | 0.002 | 0     | 0.006 | 0     | 0.011 | 0     | 0.018 | 0.024 |
| 70    | 0     | 0.002 | 0     | 0.009 | 0     | 0.016 | 0     | 0.022 | 0     |
| 75    | 0     | 0.003 | 0     | 0.01  | 0     | 0.02  | 0     | 0.029 | 0.042 |
| 80    | 0     | 0.005 | 0     | 0.013 | 0     | 0.023 | 0     | 0.037 | 0     |
| 85    | 0     | 0.006 | 0     | 0.018 | 0     | 0.031 | 0     | 0.043 | 0.067 |
| 90    | 0     | 0.008 | 0     | 0.02  | 0     | 0.035 | 0     | 0.053 | 0     |
| 95    | 0     | 0.008 | 0     | 0.026 | 0     | 0.046 | 0     | 0.063 | 0.105 |
| 100   | 0     | 0.009 | 0     | 0.029 | 0     | 0.052 | 0     | 0.078 | 0     |
| 105   | 0     | 0.011 | 0     | 0.035 | 0     | 0.064 | 0     | 0.096 | 0.156 |
| 110   | 0     | 0.013 | 0     | 0.043 | 0     | 0.077 | 0     | 0.108 | 0     |
| 115   | 0     | 0.016 | 0     | 0.051 | 0     | 0.085 | 0     | 0.128 | 0.216 |
| 120   | 0     | 0.019 | 0     | 0.055 | 0     | 0.098 | 0     | 0.148 | 0     |
| 125   | 0     | 0.024 | 0     | 0.067 | 0     | 0.117 | 0     | 0.17  | 0.297 |
| 130   | 0     | 0.026 | 0     | 0.072 | 0     | 0.128 | 0     | 0.195 | 0     |
| 135   | 0     | 0.026 | 0     | 0.083 | 0     | 0.155 | 0     | 0.225 | 0.399 |
| 140   | 0     | 0.034 | 0     | 0.096 | 0     | 0.178 | 0     | 0.257 | 0     |
| 145   | 0     | 0.037 | 0     | 0.117 | 0     | 0.196 | 0     | 0.278 | 0.527 |
| 150   | 0     | 0.044 | 0     | 0.125 | 0     | 0.227 | 0     | 0.328 | 0     |
| 155   | 0     | 0.048 | 0     | 0.147 | 0     | 0.256 | 0     | 0.383 | 0.687 |
| 160   | 0     | 0.053 | 0     | 0.17  | 0     | 0.283 | 0     | 0.412 | 0     |
| 165   | 0     | 0.059 | 0     | 0.181 | 0     | 0.309 | 0     | 0.463 | 0.871 |
| 170   | 0     | 0.066 | 0     | 0.205 | 0     | 0.361 | 0     | 0.518 | 0     |

В этой таблицы учитывается время на считывание файла

| N     | 20% Ответа нет  | 20% Ответ есть  | 40% Ответа нет     | 40% Ответ есть     | 60% Ответа нет     | 60% Ответ есть     |   80% Ответа нет   | 80% Ответ есть     | 100%     |
|     -:|     -:|     -:|     -:|     -:|     -:|     -:|     -:|     -:|     -:|
| 10    | 0.001 | 0     | 0.001 | 0.001 | 0     | 0.001 | 0.001 | 0.001 | 0     |
| 15    | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0.001 |
| 20    | 0     | 0.001 | 0     | 0.001 | 0     | 0.001 | 0     | 0     | 0     |
| 25    | 0.001 | 0.001 | 0.001 | 0.001 | 0.001 | 0.001 | 0     | 0.001 | 0.001 |
| 30    | 0     | 0.001 | 0.001 | 0.001 | 0     | 0.002 | 0.001 | 0.002 | 0.001 |
| 35    | 0     | 0.001 | 0.001 | 0.001 | 0.001 | 0.002 | 0     | 0.002 | 0.004 |
| 40    | 0.001 | 0     | 0     | 0.002 | 0     | 0.003 | 0.001 | 0.004 | 0.001 |
| 45    | 0.001 | 0.001 | 0.001 | 0.003 | 0.001 | 0.004 | 0.001 | 0.006 | 0.007 |
| 50    | 0.001 | 0.001 | 0     | 0.003 | 0     | 0.005 | 0     | 0.01  | 0     |
| 55    | 0.001 | 0.002 | 0.001 | 0.005 | 0.001 | 0.008 | 0.001 | 0.011 | 0.015 |
| 60    | 0     | 0.003 | 0.001 | 0.007 | 0.001 | 0.009 | 0.001 | 0.013 | 0.001 |
| 65    | 0     | 0.003 | 0.001 | 0.007 | 0.001 | 0.012 | 0     | 0.019 | 0.027 |
| 70    | 0.001 | 0.003 | 0.001 | 0.009 | 0.001 | 0.017 | 0.001 | 0.028 | 0     |
| 75    | 0.001 | 0.005 | 0.001 | 0.011 | 0.001 | 0.02  | 0.001 | 0.031 | 0.045 |
| 80    | 0.001 | 0.005 | 0.001 | 0.016 | 0.002 | 0.024 | 0.001 | 0.041 | 0.002 |
| 85    | 0.001 | 0.007 | 0.001 | 0.018 | 0.001 | 0.034 | 0.001 | 0.046 | 0.069 |
| 90    | 0.001 | 0.008 | 0.002 | 0.02  | 0.001 | 0.039 | 0.001 | 0.056 | 0.001 |
| 95    | 0.001 | 0.01  | 0.002 | 0.026 | 0.002 | 0.048 | 0.002 | 0.067 | 0.106 |
| 100   | 0.002 | 0.013 | 0.001 | 0.031 | 0.001 | 0.055 | 0.002 | 0.084 | 0.002 |
| 105   | 0.001 | 0.013 | 0.001 | 0.038 | 0.001 | 0.068 | 0.001 | 0.096 | 0.16  |
| 110   | 0.001 | 0.016 | 0.001 | 0.047 | 0.002 | 0.08  | 0.002 | 0.113 | 0.001 |
| 115   | 0.002 | 0.018 | 0.002 | 0.055 | 0.002 | 0.088 | 0.002 | 0.13  | 0.222 |
| 120   | 0.002 | 0.021 | 0.002 | 0.062 | 0.002 | 0.102 | 0.001 | 0.152 | 0.002 |
| 125   | 0.003 | 0.024 | 0.002 | 0.069 | 0.002 | 0.122 | 0.002 | 0.174 | 0.303 |
| 130   | 0.002 | 0.029 | 0.002 | 0.077 | 0.001 | 0.132 | 0.002 | 0.203 | 0.004 |
| 135   | 0.004 | 0.031 | 0.002 | 0.087 | 0.003 | 0.162 | 0.003 | 0.229 | 0.405 |
| 140   | 0.003 | 0.037 | 0.003 | 0.1   | 0.002 | 0.186 | 0.003 | 0.265 | 0.002 |
| 145   | 0.004 | 0.042 | 0.003 | 0.134 | 0.003 | 0.28  | 0.003 | 0.287 | 0.536 |
| 150   | 0.003 | 0.046 | 0.003 | 0.132 | 0.003 | 0.238 | 0.002 | 0.337 | 0.002 |
| 155   | 0.003 | 0.053 | 0.003 | 0.148 | 0.002 | 0.267 | 0.003 | 0.387 | 0.691 |
| 160   | 0.003 | 0.063 | 0.003 | 0.175 | 0.003 | 0.293 | 0.005 | 0.425 | 0.003 |
| 165   | 0.005 | 0.064 | 0.005 | 0.19  | 0.003 | 0.32  | 0.003 | 0.472 | 0.884 |
| 170   | 0.004 | 0.071 | 0.003 | 0.211 | 0.004 | 0.371 | 0.003 | 0.526 | 0.003 |
